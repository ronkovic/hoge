# 優先順位ルール

## CRITICAL: 機能 > 修飾

機能的な問題が解決するまで、修飾的な問題に時間を費やさない。

---

## 即座に対応 (HIGH)

以下の問題は**即座に対応**し、セッションを中断してでも修正する:

1. **テスト失敗**
   - ユニットテスト、統合テストの失敗
   - 期待値と実際の値の不一致
   - テストのタイムアウト

2. **コンパイルエラー**
   - 構文エラー、型エラー
   - 未定義の変数、関数
   - インポートエラー

3. **ランタイムエラー**
   - Null pointer dereference
   - Index out of bounds
   - 例外の未処理

4. **機能的なバグ**
   - ロジックの誤り
   - データの不整合
   - APIの不正な動作

---

## 後で対応 (LOW)

以下の問題は**後で対応**し、機能的な問題が解決してから取り組む:

1. **全角/半角の統一**
   - コメント内の表記揺れ
   - 変数名の表記統一

2. **コメント体裁**
   - インデントの調整
   - ドキュメントコメントのフォーマット

3. **空白調整**
   - 行末の空白
   - 空行の数

4. **命名規則の統一**
   - キャメルケース/スネークケースの統一
   - 変数名のリファクタリング

5. **コードスタイル**
   - Linterの警告 (エラーではない)
   - フォーマットの調整

---

## 判断基準

### HIGH の判断基準

- コードが**動作しない**
- テストが**パスしない**
- ビルドが**失敗する**

### LOW の判断基準

- コードは**動作する**
- テストは**パスする**
- ビルドは**成功する**
- ただし、**見た目が気になる**

---

## 例

### ❌ 悪い例: LOW問題を先に対応

```
1. コメントの全角/半角を統一
2. インデントを調整
3. テスト失敗を修正 ← これを先にやるべき
```

### ✅ 良い例: HIGH問題を先に対応

```
1. テスト失敗を修正 ← まずこれ
2. コンパイルエラーを修正
3. コメントの全角/半角を統一 ← 最後にこれ
```

---

## セッション終了前のチェックリスト

機能的な問題が全て解決していることを確認してから、セッションを終了する:

- [ ] 全てのテストがパスしている
- [ ] コンパイルエラーがない
- [ ] ランタイムエラーがない
- [ ] 未コミットの変更がコミットされている
- [ ] Worktreeがクリーンアップされている

修飾的な問題は、次のセッションで対応可能。
